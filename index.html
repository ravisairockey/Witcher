<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="author" content="Rsv Rockey" />
  <title>The Witcher Universe Timeline</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/particles.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
  <style>
    /* CSS Variables for light/dark mode */
    :root {
      --bg-dark: #0b0f1a;
      --bg-light: #e6eaf0;
      --text-dark: #f5f5f5;
      --text-light: #222222;
      --primary-dark: #f5b041;
      --primary-light: #d9822b;
      --glass-bg-dark: rgba(255, 255, 255, 0.07);
      --glass-bg-light: rgba(255, 255, 255, 0.3);
      --glass-shadow-dark: rgba(31, 38, 135, 0.3);
      --glass-shadow-light: rgba(0, 0, 0, 0.1);
      --table-header-bg-dark: rgba(31, 42, 68, 0.9);
      --table-header-bg-light: rgba(200, 200, 200, 0.9);
      --table-row-hover-dark: rgba(255, 255, 255, 0.03);
      --table-row-hover-light: rgba(0, 0, 0, 0.04);
      --border-dark: #222;
      --border-light: #ccc;
    }

    /* Base styling */
    body {
      margin: 0;
      padding: 0;
      background: var(--bg-dark);
      color: var(--text-dark);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow-x: hidden;
      transition: background-color 0.4s ease, color 0.4s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: 1rem;
    }

    /* Light mode */
    body.light-mode {
      background: var(--bg-light);
      color: var(--text-light);
    }

    /* Glass morph container */
    header, .container.glass-box, footer {
      max-width: 1000px;
      width: 100%;
      background: var(--glass-bg-dark);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      border-radius: 1rem;
      padding: 2rem 3rem;
      box-shadow: 0 8px 32px var(--glass-shadow-dark);
      margin-bottom: 2rem;
      transition: background 0.4s ease, box-shadow 0.4s ease;
    }
    body.light-mode header,
    body.light-mode .container.glass-box,
    body.light-mode footer {
      background: var(--glass-bg-light);
      box-shadow: 0 8px 32px var(--glass-shadow-light);
    }

    /* Header */
    header {
      text-align: center;
    }
    header h1 {
      font-size: 3.8rem;
      font-weight: 800;
      letter-spacing: 1px;
      color: var(--primary-dark);
      text-shadow: 0 0 12px #00000077;
      margin-bottom: 0.2rem;
      transition: color 0.4s ease;
    }
    body.light-mode header h1 {
      color: var(--primary-light);
      text-shadow: none;
    }
    header p.lead {
      font-size: 1.3rem;
      font-style: italic;
      color: #d3d3d3;
      margin-top: 0;
      transition: color 0.4s ease;
    }
    body.light-mode header p.lead {
      color: #555;
    }

    /* Dark/Light toggle button */
    #mode-toggle {
      cursor: pointer;
      background: transparent;
      border: 2px solid var(--primary-dark);
      color: var(--primary-dark);
      font-weight: 700;
      padding: 0.4rem 1.2rem;
      border-radius: 9999px;
      transition: all 0.3s ease;
      user-select: none;
      margin-top: 1rem;
      font-size: 1rem;
      display: inline-block;
    }
    #mode-toggle:hover {
      background: var(--primary-dark);
      color: #111;
    }
    body.light-mode #mode-toggle {
      border-color: var(--primary-light);
      color: var(--primary-light);
    }
    body.light-mode #mode-toggle:hover {
      background: var(--primary-light);
      color: #fff;
    }

    /* Timeline graph container */
    #timeline-graph {
      width: 100%;
      height: 150px;
      margin-bottom: 2rem;
      user-select: none;
    }

    /* Table container with horizontal scroll */
    .table-responsive {
      overflow-x: auto;
      scrollbar-width: thin;
      scrollbar-color: var(--primary-dark) transparent;
    }
    .table-responsive::-webkit-scrollbar {
      height: 8px;
    }
    .table-responsive::-webkit-scrollbar-track {
      background: transparent;
    }
    .table-responsive::-webkit-scrollbar-thumb {
      background-color: var(--primary-dark);
      border-radius: 10px;
    }
    body.light-mode .table-responsive::-webkit-scrollbar-thumb {
      background-color: var(--primary-light);
    }

    /* Table styles */
    table {
      min-width: 700px;
      border-collapse: separate;
      border-spacing: 0;
      border-radius: 1rem;
      overflow: hidden;
      transition: color 0.4s ease;
    }
    thead th {
      background-color: var(--table-header-bg-dark);
      color: #fff;
      font-size: 1.1rem;
      padding: 1rem 1.5rem;
      text-align: left;
      white-space: nowrap;
      transition: background-color 0.4s ease, color 0.4s ease;
    }
    body.light-mode thead th {
      background-color: var(--table-header-bg-light);
      color: var(--text-light);
    }
    tbody tr {
      border-bottom: 1px solid var(--border-dark);
      transition: background 0.3s ease, transform 0.2s ease;
      cursor: default;
    }
    body.light-mode tbody tr {
      border-bottom: 1px solid var(--border-light);
    }
    tbody tr:hover {
      background: var(--table-row-hover-dark);
      transform: scale(1.01);
    }
    body.light-mode tbody tr:hover {
      background: var(--table-row-hover-light);
    }
    td {
      padding: 1rem 1.5rem;
      vertical-align: top;
      white-space: normal;
    }

    /* Footer */
    footer {
      text-align: center;
      color: var(--text-dark);
      font-size: 0.95rem;
      border-top: 1px solid var(--border-dark);
      margin-top: auto;
      transition: color 0.4s ease, border-color 0.4s ease, background 0.4s ease;
      background: var(--glass-bg-dark);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius: 1rem;
      padding: 1rem 2rem;
    }
    body.light-mode footer {
      background: var(--glass-bg-light);
      color: var(--text-light);
      border-color: var(--border-light);
    }

    /* Responsive typography */
    @media (max-width: 768px) {
      header h1 {
        font-size: 2.6rem;
      }
      header p.lead {
        font-size: 1.1rem;
      }
      table {
        min-width: 600px;
      }
    }
    @media (max-width: 480px) {
      header h1 {
        font-size: 2rem;
      }
      table {
        min-width: 500px;
      }
    }
  </style>
</head>
<body>
  <div id="particles-js"></div>

  <header data-aos="fade-down" aria-label="Page header">
    <h1>The Witcher Universe Timeline</h1>
    <p class="lead">Books + Netflix Series + Games</p>
    <button id="mode-toggle" aria-pressed="false" aria-label="Toggle dark and light mode">Switch to Light Mode</button>
  </header>

  <!-- Interactive timeline graph -->
  <div id="timeline-graph" aria-hidden="true"></div>

  <main class="container glass-box" data-aos="fade-up" role="main">
    <div class="table-responsive" tabindex="0" aria-label="Witcher Universe timeline table">
      <table class="table table-dark table-striped timeline-table">
        <thead>
          <tr>
            <th scope="col">Timeline Year (Approx.)</th>
            <th scope="col">Medium</th>
            <th scope="col">Event Summary</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Ancient Times</td>
            <td>Lore</td>
            <td>- Elder Blood is passed through Lara Dorren.<br>- The Conjunction of the Spheres merges monsters, magic, and humans into one world.</td>
          </tr>
          <tr>
            <td>~1230s</td>
            <td>üéÆ Netflix S1 (Yen's arc)</td>
            <td>- Yennefer is born, transformed at Aretuza.<br>- Becomes a powerful sorceress after decades of manipulation and pain.</td>
          </tr>
          <tr>
            <td>~1240s‚Äì1250s</td>
            <td>üéÆ Netflix S1‚Äì2, üìô The Last Wish / Sword of Destiny</td>
            <td>- Geralt hunts monsters.<br>- Destiny links him to Ciri via the Law of Surprise.<br>- Geralt meets Yennefer.<br>- Nilfgaard invades Cintra, Ciri flees.</td>
          </tr>
          <tr>
            <td>~1263</td>
            <td>üéÆ Netflix S3, üìô Time of Contempt</td>
            <td>- Ciri is trained at Kaer Morhen.<br>- Coup at Aretuza, mages scatter.<br>- Ciri opens a portal, ends up in the desert.<br>- Wild Hunt teased.</td>
          </tr>
          <tr>
            <td>~1264‚Äì1268</td>
            <td>üìô Baptism of Fire ‚Üí Lady of the Lake</td>
            <td>- Geralt forms a company to find Ciri.<br>- Ciri becomes a bandit (‚ÄúFalka‚Äù), then lands in another world.<br>- Books end with Geralt and Yennefer possibly dying in Rivia pogrom, Ciri vanishes into other realms.</td>
          </tr>
          <tr>
            <td>~1270</td>
            <td>üéÆ The Witcher 1</td>
            <td>- Geralt is resurrected with amnesia.<br>- Kaer Morhen attacked by Salamandra.<br>- Geralt kills their leader and saves King Foltest.</td>
          </tr>
          <tr>
            <td>1271</td>
            <td>üéÆ The Witcher 2: Assassins of Kings</td>
            <td>- Foltest is assassinated; Geralt is framed.<br>- He hunts Letho, another Witcher.<br>- North is destabilized.<br>- Geralt starts regaining memories.</td>
          </tr>
          <tr>
            <td>1272</td>
            <td>üéÆ The Witcher 3: Wild Hunt</td>
            <td>- Geralt searches for Ciri, who is hunted by the Wild Hunt.<br>- Travels across Velen, Novigrad, Skellige.<br>- Ciri returns, confronts the Wild Hunt.<br>- Depending on choices, Ciri becomes Witcher, Empress, or disappears.</td>
          </tr>
        </tbody>
      </table>
    </div>
  </main>

  <footer data-aos="fade-up" role="contentinfo">
    <p>&copy; 2025 Rsv Rockey. All rights reserved.<br />
      Designed and authored by <strong>Rsv Rockey</strong>. Unauthorized reproduction or distribution is prohibited.<br />
      Last updated: July 2025
    </p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
  <script>
    AOS.init();

    // Particles.js setup
    particlesJS("particles-js", {
      particles: {
        number: { value: 100 },
        color: { value: "#f5b041" },
        shape: { type: "circle" },
        opacity: { value: 0.3 },
        size: { value: 3 },
        line_linked: { enable: true, color: "#ffffff" },
        move: { speed: 1 }
      }
    });

    // Dark / Light mode toggle
    const toggleBtn = document.getElementById('mode-toggle');
    const body = document.body;

    function setMode(isLight) {
      if(isLight) {
        body.classList.add('light-mode');
        toggleBtn.textContent = 'Switch to Dark Mode';
        toggleBtn.setAttribute('aria-pressed', 'true');
      } else {
        body.classList.remove('light-mode');
        toggleBtn.textContent = 'Switch to Light Mode';
        toggleBtn.setAttribute('aria-pressed', 'false');
      }
    }

    // Remember mode in localStorage
    const savedMode = localStorage.getItem('witcher-mode');
    if(savedMode === 'light') {
      setMode(true);
    } else {
      setMode(false);
    }

    toggleBtn.addEventListener('click', () => {
      const isLight = body.classList.toggle('light-mode');
      setMode(isLight);
      localStorage.setItem('witcher-mode', isLight ? 'light' : 'dark');
    });

    // Interactive timeline graph using Canvas API
    const graph = document.getElementById('timeline-graph');
    const ctx = graph.getContext('2d');
    const width = graph.clientWidth;
    const height = graph.clientHeight;
    graph.width = width * devicePixelRatio;
    graph.height = height * devicePixelRatio;
    ctx.scale(devicePixelRatio, devicePixelRatio);

    // Timeline points data (year mapped to relative X position)
    const timelinePoints = [
      { year: 'Ancient', label: 'Lore', pos: 0.05 },
      { year: '~1230s', label: 'Netflix S1', pos: 0.15 },
      { year: '~1240s‚Äì1250s', label: 'Books/Show', pos: 0.3 },
      { year: '~1263', label: 'Netflix S3', pos: 0.5 },
      { year: '~1264‚Äì1268', label: 'Books', pos: 0.65 },
      { year: '~1270', label: 'Witcher 1', pos: 0.8 },
      { year: '1271', label: 'Witcher 2', pos: 0.9 },
      { year: '1272', label: 'Witcher 3', pos: 0.98 },
    ];

    const radius = 12;
    const lineY = height / 2;
    const highlightColorDark = '#f5b041';
    const highlightColorLight = '#d9822b';

    function drawGraph(isLightMode) {
      ctx.clearRect(0, 0, width, height);

      const lineColor = isLightMode ? '#ccc' : '#888';
      const textColor = isLightMode ? '#222' : '#f5f5f5';
      const highlightColor = isLightMode ? highlightColorLight : highlightColorDark;

      // Draw timeline base line
      ctx.strokeStyle = lineColor;
      ctx.lineWidth = 4;
      ctx.lineCap = 'round';
      ctx.beginPath();
      ctx.moveTo(width * 0.03, lineY);
      ctx.lineTo(width * 0.97, lineY);
      ctx.stroke();

      // Draw points
      timelinePoints.forEach((pt, i) => {
        const x = width * pt.pos;
        ctx.beginPath();
        ctx.fillStyle = highlightColor;
        ctx.shadowColor = highlightColor;
        ctx.shadowBlur = 10;
        ctx.arc(x, lineY, radius, 0, 2 * Math.PI);
        ctx.fill();
        ctx.shadowBlur = 0;

        // Year label below
        ctx.fillStyle = textColor;
        ctx.font = '14px Segoe UI, sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText(pt.year, x, lineY + 35);

        // Label above point on hover (if any)
        if (hoverIndex === i) {
          ctx.fillStyle = highlightColor;
          ctx.font = 'bold 16px Segoe UI, sans-serif';
          ctx.fillText(pt.label, x, lineY - 25);
        }
      });
    }

    // Track hover index
    let hoverIndex = -1;

    graph.addEventListener('mousemove', e => {
      const rect = graph.getBoundingClientRect();
      const mouseX = e.clientX - rect.left;

      hoverIndex = timelinePoints.findIndex(pt => {
        const x = width * pt.pos;
        return Math.abs(mouseX - x) < radius + 10;
      });

      drawGraph(body.classList.contains('light-mode'));
    });

    graph.addEventListener('mouseleave', e => {
      hoverIndex = -1;
      drawGraph(body.classList.contains('light-mode'));
    });

    // Initial draw
    drawGraph(body.classList.contains('light-mode'));
  </script>
</body>
</html>
